module.exports = {
  apps: [
    {
      name: "db-schema",
      script: "bash",
      args: "-c 'npm install && tsc -b && npm run seed:db && npm run refresh:views'",
      cwd: "./db",
      autorestart: false,
      wait_ready: true,
    },
    {
      name: "api",
      script: "bash",
      args: "-c 'tsc -b && npm run start'",
      cwd: "./api",
      autorestart: false,
      wait_ready: true,
    },
    {
      name: "ws",
      script: "bash",
      args: "-c 'tsc -b && npm run start'",
      cwd: "./ws",
      autorestart: false,
      wait_ready: true,
    },
    {
      name: "engine",
      script: "bash",
      args: "-c 'tsc -b && npm run start'",
      cwd: "./engine",
      autorestart: false,
      wait_ready: true,
    },
    {
      name: "mm",
      script: "bash",
      args: "-c 'tsc -b && npm run start'",
      cwd: "./mm",
      autorestart: false,
      wait_ready: true,
    },
    {
      name: "db-service",
      script: "bash",
      args: "-c 'tsc -b && npm run start'",
      cwd: "./db",
      autorestart: false,
      wait_ready: true,
    },
    {
      name: "frontend",
      script: "bash",
      args: "-c 'npm install && npm run build && npm run start'",
      cwd: "./frontend",
    },
  ],
};
